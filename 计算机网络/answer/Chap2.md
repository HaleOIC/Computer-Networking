## 复习题

#### R1

网址：$HTTP$

文件传输协议：$FTP$

远程登录：$Telnet$

电子邮件：$SMTP$

$BitTorrent$: $BitTorrent$协议

#### R2

网络体系结构五层，主要实现的功能是通信功能，而应用程序体系结构更注重应用的功能，更代表一般性的广泛结构

#### R3

发起通信的是客户端，等待通信的是服务器

#### R4

不同意，接收文件的是客户端，发送文件的是服务器

#### R5

目标主机的$IP$地址和端口号构成的$Socket$

#### R6

无疑是用$UDP$，没有流量控制和拥塞控制，可以尽快完成任务

#### R7

共享文件处理业务，既要求数据不能丢失，同时别人共同实现的操作要实时汇总展示到本主机中

#### R9

$SSL$运行在应用层，主要是在应用层进行加密；当想要强化$SSL$的服务，考虑丢失重传，则必须在应用进程中实现对应加密功能的代码

#### R10

如果两个通信实体在相互发送数据之前先交换控制包，则协议使⽤握⼿。SMTP在应⽤层使⽤ 握⼿，⽽HTTP不使⽤握⼿。 

#### R11

因为对于数据的要求非常高，要以正确顺序接受所有数据，而$UDP$无法完成

#### R12

当用户第一次访问站点时，服务器生成一个唯一的$cookie$标识号，并且在后端数据库中生成对应的目录，进而将生成的$cookie$存储在用户的主机上带回，由浏览器本身缓存下来，当下次购买或者访问站点，将$cookie$编号一并发送到服务器中，从而知道当前用户在之前访问过站点

#### R13

⽹络缓存可以让同⼀局域⽹内⽤⼾主机所连接的所需内容与⽤⼾“更接近”。⽹络缓存可以减少 所有⼈的延迟对象，甚⾄没有缓存的对象，因为缓存减少了链接上的流量。 

#### R15

即时通信应用：$Facebook$ $QQ$ $WeChat$

他们使用的不可能是相同的协议

#### R16

该消息⾸先通过HTTP从Alice的主机发送到她的邮件服务器。然后，Alice的邮件服务器通过 SMTP向Bob的邮件服务器发送消息。然后Bob通过POP3将消息从他的邮件服务器传输到他的主机 

#### R18

通过下载和删除，⽤⼾从POP服务器检索其消息后，消息将被删除。这给不固定⽤⼾带来了⼀ 个问题，他们可能希望从许多不同的机器（办公PC、家庭PC等）访问消息。在下载和保存配置中在⽤⼾检索消息后不会删除消息。这也可能不⽅便，因为每次⽤⼾从新机器检索存储的消息时，所有 未删除的消息都将传输到新机器（包括⾮常旧的消息）。

#### R19

完全有可能，在RR记录中只需要用$MX$记录用于将邮件服务器的主机名映射到其$IP$地址

#### R21

Bob也没有必要为Alice提供块(chunks)。Alice必须是Bob的前4位邻居，Bob才能向她发送块；即使Alice在30秒的间隔内向Bob提供块，也可能不会发⽣这种情况。 

#### R22

最终肯定可以通过随机第五位的情况从它的邻居处获得到这样的资源

#### R23

P2P⽂件共享系统中的覆盖⽹络由参与⽂件共享系统的节点和节点之间的逻辑链接组成。如果 A和B之间有⼀个半永久的TCP连接，则从节点A到节点B有⼀个逻辑链路（图论术语中的“边缘”）。 覆盖⽹络不包括路由器。 

#### R24

一种是 $Enter Deep$ 一种是$bing Home$

#### R25

负载平衡（客⼾端不应指向 过载集群）、⽇效应、⽹络中DNS服务器之间的变化、很少访问视频的可⽤性有限以及需要缓解流 ⾏视频内容可能产⽣的热点。 

## 习题

#### P1

$F$ $T$ $F$ $F$ $F$

#### P3

需要应用层的$DNS$协议和$HTTP$协议

传输层协议：$UDP$和$TCP$

#### P4

a) http://gaia.cs.umass.edu/cs453/index.html

b) HTTP版本：1.1

c) 持续版本

d) 看不出来

e) Mozilla/5.0 

#### P5

a）状态代码200和短语ok表⽰服务器能够找到⽂档成功。答复于2008年3⽉7⽇星期⼆GMT标准时 间12:39:45。 

b）上⼀次修改index.html⽂档是在2005年12⽉10⽇星期六18:27:46 GMT。

c）返回的⽂档中有3874个字节。 

#### P7

总时间： $2RTT_0+RTT_1+RTT_2+\dots+RTT_n$

#### P8

a)  $2RTT_0+RTT_1+RTT_2+\dots+RTT_8+8*2*RTT_0$ 

$=18RTT_0+RTT_1+RTT_2+\dots+RTT_8$

b)  $2RTT_0+RTT_1+RTT_2+\dots+RTT_8+2*2*RTT_0$ 

$=6RTT_0+RTT_1+RTT_2+\dots+RTT_8$

c) $2RTT_0+RTT_1+RTT_2+\dots+RTT_8+RTT_0$ 

$=3RTT_0+RTT_1+RTT_2+\dots+RTT_8$

#### P9

a)

$\Delta = 850000Bits/1.5*10^7Mbits = 5.67*10^{-2} sec$

$\beta  = 16 requests/s$ 带入有 $\Delta\beta=0.9072 requests $

进而计算出平均接入延迟： $t_{aver} = \frac{\Delta}{(1-\Delta\beta)} =0.6s $

总延时为：$T = t_{echo} + t_{aver} = 3.6s$

b)

那么接入带宽中的负载需要时间就是 $t_{aver} = \frac{\Delta}{(1-\Delta\beta)} = \frac{5.67*10^{-2}}{1-(0.6*16)(5.67*10^{-2})} = 0.084s $

总的需要远程服务器时间延迟为：$T = t_{aver}+t_{echo} = 3.084s$

总的预计时间为: $T_{now} = T*0.6 = 1.85s $

#### P10

![1659582185975](img/2-P10.png)

![1659582280875](img/2-P10-1.png)

#### P11

a) 是的，因为Bob有更多的连接，他可以获得更⼤的链路带宽份额 

b) 是的，Bob仍然需要执⾏并⾏下载；否则，他将获得⽐其他四个⽤⼾更少的带宽。 

#### P18

a)对于给定的域名输⼊(如ccn.com)、IP地址或⽹络管理员名称，whois数据库可⽤于定位相应的注 册服务器、whois服务器、DNS服务器等。 

b)**NS4.YAHOO.COM**来⾃**www.Registry er.com** 

**NS1.MSFT.NET**，来⾃**ww.Registry er.com**。 

c)

```
Local Domain: www.mindspring.com
Web servers : www.mindspring.com
 207.69.189.21, 207.69.189.22,
 207.69.189.23, 207.69.189.24,
27/105
 207.69.189.25, 207.69.189.26,
 207.69.189.27, 207.69.189.28
Mail Servers : mx1.mindspring.com (207.69.189.217)
 mx2.mindspring.com (207.69.189.218)
 mx3.mindspring.com (207.69.189.219)
 mx4.mindspring.com (207.69.189.220)
Name Servers: itchy.earthlink.net (207.69.188.196)
 scratchy.earthlink.net (207.69.188.197)
www.yahoo.com
Web Servers: www.yahoo.com (216.109.112.135, 66.94.234.13)
Mail Servers: a.mx.mail.yahoo.com (209.191.118.103)
 b.mx.mail.yahoo.com (66.196.97.250)
 c.mx.mail.yahoo.com (68.142.237.182, 216.39.53.3)
 d.mx.mail.yahoo.com (216.39.53.2)
 e.mx.mail.yahoo.com (216.39.53.1)
 f.mx.mail.yahoo.com (209.191.88.247, 68.142.202.247)
 g.mx.mail.yahoo.com (209.191.88.239, 206.190.53.191)
Name Servers: ns1.yahoo.com (66.218.71.63)
 ns2.yahoo.com (68.142.255.16)
 ns3.yahoo.com (217.12.4.104)
 ns4.yahoo.com (68.142.196.63)
 ns5.yahoo.com (216.109.116.17)
 ns8.yahoo.com (202.165.104.22)
 ns9.yahoo.com (202.160.176.146)
www.hotmail.com
Web Servers:www.hotmail.com (64.4.33.7, 64.4.32.7)
Mail Servers: mx1.hotmail.com (65.54.245.8, 65.54.244.8,
65.54.244.136)
 mx2.hotmail.com (65.54.244.40, 65.54.244.168,
65.54.245.40)
 mx3.hotmail.com (65.54.244.72, 65.54.244.200,
65.54.245.72)
 mx4.hotmail.com (65.54.244.232, 65.54.245.104,
65.54.244.104)
Name Servers: ns1.msft.net (207.68.160.190)
 ns2.msft.net (65.54.240.126)
 ns3.msft.net (213.199.161.77)
 ns4.msft.net (207.46.66.126)
 ns5.msft.net (65.55.238.126)
```

d)YahooWeb服务器有多个IP地址www.yahoo.com(216.109.112.135,66.94.234.13) 

e)职业技术⼤学的地址范围：128.230.0.0-128.230.255.255 

f)攻击者可以使⽤whois数据库和nslookup⼯具来确定⽬标机构的IP地址范围、DNS服务器地址等。 

g)通过分析攻击数据包的源地址，受害者可以使⽤whois获取攻击所来⾃的域的信息，并可能通知源 域的管理员。 

#### P20

​	我们可以定期拍摄本地DNS服务器中DNS缓存的快照。该组织在DNS缓存中出现最频繁的Web 服务器是最流⾏的服务器。这是因为如果更多的⽤⼾对Web服务器感兴趣，那么DNS请求就会对此 感兴趣服务器更频繁地由⽤⼾发送。因此，该Web服务器将出现在DNS中缓存更频繁。 

#### P22

$C/S$模式中进行计算： $D_{cs} = max\{NF/u_s , F/d_{min}\}。 $

$P2P$模式中公式为:$D_{P2P} = max\{F/u_s,F/d_{min},NF/(u_s+\sum_{i=1}^N u_i)\}$

其中$F = 15Gb = 15*1024Mb$ $U_s = 30Mbps$

$d_{min} = d_i = 2Mbps$ 

![1659583184732](img/2-P22.png)

#### P25

共计有 $N(N-1)/2$条边

#### P26

a) 	是的。只要有⾜够的对等⼈留在蜂群中，他的第⼀个声明就可能是可能的。Bob可以总是通过 乐观的⾮阻塞来接收数据对等端。 

b)	他的第⼆次声明也是真实的。他可以在每个主机上运⾏客⼾端，让每个客⼾端“免费乘坐，”并将收集 的chunks从不同的主机合并为单个⽂件。他甚⾄可以编写⼀个⼩的调度程序，使不同的主机请求不 同的chunks⽂件。

#### P28

a)	将产生无法连接的情况，因为$TCP$必须要求完成握手连接之后才能进行传输

b)	不影响

c) 	将无法连接，因为二者端口号对不上